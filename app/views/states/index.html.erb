<main>
  <shade>Listing States</shade>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>GOP Date</th>
        <th>Dem Date</th>
        <th colspan="3"></th>
      </tr>
    </thead>

    <tbody>
      <% @states.each do |state| %>
        <tr>
          <td><%= state.name %></td>
          <td><%= state.p_or_c %></td>
          <td>
            <% if state.gop_date.nil? %>
              ''
            <% else %>
              <%= state.formatted_gop_date %>
            <% end %>
          </td>
          <td>
            <% if state.dem_date.nil? %>
              ''
            <% else %>
              <%= state.formatted_dem_date %>
            <% end %>
          </td>
          <td><%= link_to 'Show', state %></td>
          <td><%= link_to 'Edit', edit_state_path(state) %></td>
          <td><%= link_to 'Destroy', state, method: :delete, data: { confirm: 'Are you sure?' } %></td>
        </tr>
      <% end %>
    </tbody>
  </table>
  <div class="small-12 columns" style="background-color: white; outline-style: solid; outline-color: black; padding: 1em;">
    <div class="row" style="padding-bottom: 0.7em;">
      <h4>Import States</h4>
    </div>
    <div class="row">
      <%= form_tag import_states_path, multipart: true do %>
      <%= file_field_tag :file %>
    </div>
    <div class="row" style="font-size: 0.8em;">
      <%= submit_tag "Import CSV" %>
    </div>
  <% end %>
</main>

<br>

<div class="row"><%= link_to 'New State', new_state_path %></div>
